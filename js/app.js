(function(t){function e(e){for(var r,i,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},n={app:0},s=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1bf8":function(t,e,a){},"36d4":function(t,e,a){},"3a76":function(t,e,a){"use strict";a("1bf8")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Main")],1)},s=[],i=(a("67d2"),a("f9e3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"container"},[a("FormFilter"),t.data?a("Table"):a("Loader"),t.chosenUser?a("UserInfo"):t._e()],1)}),o=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{on:{submit:t.onSubmit}},[a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter text","aria-label":"Enter text",required:""},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:!t.data}},[t._v("Find")])])])},l=[],u={name:"Form-filter",data:function(){return{form:{title:""}}},computed:{data:function(){return this.$store.getters.data}},watch:{"form.title":function(){this.form.title||this.$store.dispatch("clearFilterInput")}},methods:{onSubmit:function(t){t.preventDefault(),this.$store.dispatch("changeCurrentPage",1),this.$store.dispatch("filterData",this.form.title)}}},d=u,p=a("2877"),f=Object(p["a"])(d,c,l,!1,null,null,null),h=f.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"overflow-auto mt-5 mb-5"},[a("table",{staticClass:"table table-hover"},[a("thead",{staticClass:"thead-light"},[a("tr",t._l(t.fields,(function(t){return a("FieldTitle",{key:t.key,attrs:{field:t}})})),1)]),a("tbody",[t._l(t.data.slice(t.perPage*(t.currentPage-1),t.perPage*t.currentPage),(function(e){return a("tr",{key:e.id+e.firstName,on:{click:function(a){return t.onClickChooseUser(e.id)}}},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.firstName))]),a("td",[t._v(t._s(e.lastName))]),a("td",[t._v(t._s(e.phone))]),a("td",[t._v(t._s(e.email))]),a("td",[t._v(t._s(e.adress.city)+", "+t._s(e.adress.streetAddress)+", "+t._s(e.adress.zip)+", "+t._s(e.adress.state))])])})),a("tr",[t.data.length?t._e():a("td",{attrs:{colspan:"6"}},[t._v("No results were found for your search.")])])],2)])]),t.pages.length>1?a("Pagination",{attrs:{pages:t.pages},on:{onClickChangePage:t.onClickChangePage}}):t._e()],1)},m=[],v=(a("b65f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{class:{sort:t.field.sortable},attrs:{scope:"col"},on:{click:function(e){return t.handlerClickSortData(t.field.key)}}},[t._v(" "+t._s(t.field.label)+" "),t.field.sortable?a("span",{class:{"sort-icon":!0,"sort-icon--up":t.activeSortBy===t.field.key&&t.activeSortType===t.SORT_TYPE.INC,"sort-icon--down":t.activeSortBy===t.field.key&&t.activeSortType===t.SORT_TYPE.DEC}}):t._e()])}),b=[],C={INC:"inc",DEC:"dec"},_={name:"Field-title",props:{field:Object},data:function(){return{SORT_TYPE:C,activeSortType:null}},created:function(){var t=this,e=function(e){return t.activeSortType=t.$el.contains(e.target)?t.activeSortType:null};document.addEventListener("click",e),this.$on("hook:beforeDestroy",(function(){return document.removeEventListener("click",e)}))},computed:{activeSortBy:function(){return this.$store.getters.activeSortBy}},methods:{handlerClickSortData:function(t){this.field.sortable&&(this.activeSortType=this.activeSortType&&this.activeSortType===C.INC?C.DEC:C.INC,this.$store.dispatch("sortingData",{sortBy:t,sortType:this.activeSortType}))}}},P=_,y=(a("9465"),Object(p["a"])(P,v,b,!1,null,null,null)),k=y.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"d-flex justify-content-end"},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item"},[a("button",{staticClass:"page-link",attrs:{type:"button","aria-label":"First",disabled:1===t.currentPage},on:{click:function(e){return t.handlerClickChangePage("first")}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),a("li",{staticClass:"page-item"},[a("button",{staticClass:"page-link",attrs:{type:"button","aria-label":"Previous",disabled:1===t.currentPage},on:{click:function(e){return t.handlerClickChangePage("prev")}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("‹")])])]),t.showLeftEllipsis?a("li",{staticClass:"page-item disabled"},[a("span",{staticClass:"page-link"},[t._v("...")])]):t._e(),t._l(t.pages.slice(t.pageCountStart,t.pageCountEnd),(function(e){return a("li",{key:e,class:{"page-item":!0,active:t.currentPage===e}},[a("button",{staticClass:"page-link",attrs:{type:"button"},on:{click:function(a){return t.handlerClickChangePage("",e)}}},[t._v(" "+t._s(e))])])})),t.showRightEllipsis?a("li",{staticClass:"page-item disabled"},[a("span",{staticClass:"page-link"},[t._v("...")])]):t._e(),a("li",{staticClass:"page-item"},[a("button",{staticClass:"page-link",attrs:{type:"button","aria-label":"Next",disabled:t.currentPage===t.pages.length},on:{click:function(e){return t.handlerClickChangePage("next")}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("›")])])]),a("li",{staticClass:"page-item"},[a("button",{staticClass:"page-link",attrs:{type:"button","aria-label":"Last",disabled:t.currentPage===t.pages.length},on:{click:function(e){return t.handlerClickChangePage("last")}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},w=[],S={name:"Pagination",props:{pages:Array},data:function(){return{maxPaginationItems:4}},computed:{currentPage:function(){return this.$store.getters.currentPage},pageCountStart:function(){return this.currentPage<this.maxPaginationItems?0:this.currentPage>=this.pages.length-2?this.pages.length-this.maxPaginationItems:this.currentPage-2},pageCountEnd:function(){return this.currentPage<this.maxPaginationItems?4:this.currentPage>=this.pages.length-2?this.pages.length:this.currentPage+1},showLeftEllipsis:function(){return this.currentPage>=this.maxPaginationItems},showRightEllipsis:function(){return this.pages.length>this.maxPaginationItems&&this.currentPage<this.pages.length-2}},methods:{handlerClickChangePage:function(t,e){this.$emit("onClickChangePage",{type:t,page:e})}}},$=S,D=(a("7a39"),Object(p["a"])($,x,w,!1,null,null,null)),E=D.exports,T={name:"Table",data:function(){return{fields:[{key:"id",label:"ID",sortable:!0},{key:"firstName",label:"First Name",sortable:!0},{key:"lastName",label:"Last Name",sortable:!0},{key:"phone",label:"Phone",sortable:!1},{key:"email",label:"Email",sortable:!1},{key:"adress",label:"Address",sortable:!1}]}},computed:{data:function(){return this.$store.getters.data},perPage:function(){return this.$store.getters.perPage},currentPage:function(){return this.$store.getters.currentPage},pagesCount:function(){var t=this.data.length,e=t/this.perPage;return t%this.perPage&&(e+=1),e},pages:function(){for(var t=[],e=1;e<=this.pagesCount;e++)t.push(e);return t}},methods:{onClickChangePage:function(t){var e=t.type,a=t.page;switch(e){case"prev":this.$store.dispatch("changeCurrentPage",this.currentPage-1);break;case"next":this.$store.dispatch("changeCurrentPage",this.currentPage+1);break;case"first":this.$store.dispatch("changeCurrentPage",1);break;case"last":this.$store.dispatch("changeCurrentPage",Math.trunc(this.pagesCount));break;default:this.$store.dispatch("changeCurrentPage",a);break}},onClickChooseUser:function(t){this.$store.dispatch("getChosenUser",t),setTimeout((function(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}),100)}},components:{FieldTitle:k,Pagination:E}},N=T,O=(a("8d1c"),Object(p["a"])(N,g,m,!1,null,null,null)),j=O.exports,L=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},I=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loader d-flex justify-content-center"},[a("div",{staticClass:"spinner-border",attrs:{role:"status"}},[a("span",{staticClass:"visually-hidden"},[t._v("Loading...")])])])}],U={name:"Loader"},F=U,B=(a("3a76"),Object(p["a"])(F,L,I,!1,null,"96b932b6",null)),A=B.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card mt-5"},[a("div",{staticClass:"card-body"},[a("p",{staticClass:"card-text"},[t._v("Selected user: "),a("b",[t._v(t._s(t.user.firstName)+" "+t._s(t.user.lastName))])]),a("p",{staticClass:"card-text"},[t._v("Description: "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.description,expression:"user.description"}],staticClass:"form-control",attrs:{disabled:""},domProps:{value:t.user.description},on:{input:function(e){e.target.composing||t.$set(t.user,"description",e.target.value)}}})]),a("p",{staticClass:"card-text"},[t._v("Residence address: "),a("b",[t._v(t._s(t.user.adress.streetAddress))])]),a("p",{staticClass:"card-text"},[t._v("City: "),a("b",[t._v(t._s(t.user.adress.city))])]),a("p",{staticClass:"card-text"},[t._v("Province / State: "),a("b",[t._v(t._s(t.user.adress.state))])]),a("p",{staticClass:"card-text"},[t._v("Zip: "),a("b",[t._v(t._s(t.user.adress.zip))])])])])},R=[],z={name:"User-info",computed:{user:function(){return this.$store.getters.chosenUser}}},Y=z,J=Object(p["a"])(Y,M,R,!1,null,"4629a645",null),q=J.exports,H={name:"Main",mounted:function(){this.$store.dispatch("getData")},computed:{data:function(){return this.$store.getters.data},chosenUser:function(){return this.$store.getters.chosenUser}},components:{Loader:A,FormFilter:h,Table:j,UserInfo:q}},Z=H,G=Object(p["a"])(Z,i,o,!1,null,"5c8eae31",null),K=G.exports,Q={name:"App",components:{Main:K}},V=Q,W=Object(p["a"])(V,n,s,!1,null,null,null),X=W.exports,tt=a("2f62"),et=(a("4de4"),a("99af"),a("caad"),a("2532"),a("c740"),a("fb6a"),a("bc3a")),at=a.n(et),rt="http://www.filltext.com/?rows=100&id={number|1000}&firstName={firstName}&lastName={lastName}&email={email}&phone={phone|(xxx)xxx-xx-xx}&adress={addressObject}&description={lorem|32}",nt={state:{data:null,filteredData:null,sortedData:null,chosenUser:null,activeSortBy:null},mutations:{setData:function(t,e){t.data=e},setFilteredData:function(t,e){t.filteredData=e},setChosenUser:function(t,e){t.chosenUser=e},setSortedData:function(t,e){t.sortedData=e},setActiveSortBy:function(t,e){t.activeSortBy=e}},actions:{getData:function(t){var e=t.commit;at()(rt).then((function(t){console.log(t.data),e("setData",t.data),e("setSortedData",t.data)})).catch((function(t){console.error(t)}))},filterData:function(t,e){var a=t.state,r=t.commit,n=a.data.filter((function(t){var a=t.firstName.toLowerCase(),r=t.lastName.toLowerCase(),n=t.email.toLowerCase(),s=t.phone.toLowerCase(),i="".concat(t.adress.city,", ").concat(t.adress.streetAddress,",\n                            ").concat(t.adress.zip,", ").concat(t.adress.state).toLowerCase();return a.includes(e.toLowerCase())||r.includes(e.toLowerCase())||n.includes(e.toLowerCase())||s.includes(e.toLowerCase())||i.includes(e.toLowerCase())}));r("setFilteredData",n)},clearFilterInput:function(t){var e=t.commit;e("setFilteredData",null)},getChosenUser:function(t,e){var a=t.state,r=t.commit,n=a.data.findIndex((function(t){return t.id===e}));if(n>=0){var s=a.data[n];r("setChosenUser",s)}},sortingData:function(t,e){var a=t.state,r=t.commit,n=e.sortBy,s=e.sortType,i=[];switch(r("setActiveSortBy",n),s){case C.INC:i=a.data.slice().sort((function(t,e){return t[n]>e[n]?1:-1}));break;case C.DEC:i=a.data.slice().sort((function(t,e){return t[n]>e[n]?-1:1}));break;default:i=a.data.slice();break}r("setSortedData",i)}},getters:{data:function(t){return t.filteredData?t.filteredData:t.sortedData},chosenUser:function(t){return t.chosenUser},activeSortBy:function(t){return t.activeSortBy}}},st={state:{perPage:25,currentPage:1},mutations:{setCurrentPage:function(t,e){t.currentPage=e}},actions:{changeCurrentPage:function(t,e){var a=t.commit;a("setCurrentPage",e)}},getters:{perPage:function(t){return t.perPage},currentPage:function(t){return t.currentPage}}};r["a"].use(tt["a"]);var it=new tt["a"].Store({modules:{data:nt,pagination:st}});r["a"].config.productionTip=!1,new r["a"]({store:it,render:function(t){return t(X)}}).$mount("#app")},"5b22":function(t,e,a){},"67d2":function(t,e,a){},"7a39":function(t,e,a){"use strict";a("baed")},"8d1c":function(t,e,a){"use strict";a("36d4")},9465:function(t,e,a){"use strict";a("5b22")},baed:function(t,e,a){}});
//# sourceMappingURL=app.js.map