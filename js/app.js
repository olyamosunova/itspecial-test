(function(t){function e(e){for(var r,s,o=e[0],c=e[1],u=e[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&f.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},n={app:0},i=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},1935:function(t,e,a){},"220c":function(t,e,a){"use strict";a("291d")},"291d":function(t,e,a){},"36d4":function(t,e,a){},3927:function(t,e,a){},"4ad9":function(t,e,a){},5096:function(t,e,a){},"5b22":function(t,e,a){},"67d2":function(t,e,a){},"7a39":function(t,e,a){"use strict";a("baed")},"8d1c":function(t,e,a){"use strict";a("36d4")},9465:function(t,e,a){"use strict";a("5b22")},a79f:function(t,e,a){},baed:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Main")],1)},i=[],s=(a("67d2"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"container"},[a("FormFilter"),t.data||t.error?t._e():a("Loader"),t.data?a("Table"):t._e(),t.chosenUser?a("UserInfo"):t._e(),t.error?a("Error",{attrs:{error:t.error}}):t._e()],1)}),o=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"form",on:{submit:t.onSubmit}},[a("div",{staticClass:"form__block"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form__control",attrs:{type:"text",placeholder:"Enter text","aria-label":"Enter text",required:""},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),a("button",{staticClass:"button",attrs:{type:"submit",disabled:!t.data}},[t._v("Find")])])])},u=[],l=(a("1935"),r["a"].extend({name:"Form-filter",data:function(){return{form:{title:""}}},computed:{data:function(){return this.$store.getters.data}},watch:{"form.title":function(){this.form.title||this.$store.dispatch("clearFilterInput")}},methods:{onSubmit:function(t){t.preventDefault(),this.$store.dispatch("changeCurrentPage",1),this.$store.dispatch("filterData",this.form.title)}}})),d=l,f=a("2877"),p=Object(f["a"])(d,c,u,!1,null,null,null),h=p.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"overflow-auto"},[a("table",{staticClass:"table"},[a("thead",[a("tr",t._l(t.fields,(function(t){return a("FieldTitle",{key:t.key,attrs:{field:t}})})),1)]),a("tbody",[t._l(t.data.slice(t.perPage*(t.currentPage-1),t.perPage*t.currentPage),(function(e){return a("tr",{key:e.id+e.firstName,on:{click:function(a){return t.onClickChooseUser(e.id)}}},[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.firstName))]),a("td",[t._v(t._s(e.lastName))]),a("td",[t._v(t._s(e.phone))]),a("td",[t._v(t._s(e.email))])])})),t.data.length?t._e():a("tr",[a("td",{attrs:{colspan:"5"}},[t._v("No results were found for your search.")])])],2)])]),t.pages.length>1?a("Pagination",{attrs:{pages:t.pages},on:{onClickChangePage:t.onClickChangePage}}):t._e()],1)},m=[],_=(a("b65f"),a("4ad9"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{class:{sort:t.field.sortable},on:{click:function(e){return t.handlerClickSortData(t.field.key)}}},[t._v(" "+t._s(t.field.label)+" "),t.field.sortable?a("span",{class:{"sort-icon":!0,"sort-icon--up":t.activeSortBy===t.field.key&&t.activeSortType===t.SORT_TYPE.INC,"sort-icon--down":t.activeSortBy===t.field.key&&t.activeSortType===t.SORT_TYPE.DEC}}):t._e()])}),v=[],b={INC:"inc",DEC:"dec"},y=r["a"].extend({name:"Field-title",props:{field:{type:Object,required:!0}},data:function(){return{SORT_TYPE:b,activeSortType:""}},created:function(){var t=this,e=function(e){return t.activeSortType=t.$el.contains(e.target)?t.activeSortType:""};document.addEventListener("click",e),this.$on("hook:beforeDestroy",(function(){return document.removeEventListener("click",e)}))},computed:{activeSortBy:function(){return this.$store.getters.activeSortBy}},methods:{handlerClickSortData:function(t){this.field.sortable&&(this.activeSortType=this.activeSortType&&this.activeSortType===b.INC?b.DEC:b.INC,this.$store.dispatch("sortingData",{sortBy:t,sortType:this.activeSortType}))}}}),C=y,x=(a("9465"),Object(f["a"])(C,_,v,!1,null,null,null)),P=x.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"pagination"},[a("li",{staticClass:"pagination__item"},[a("button",{staticClass:"pagination__link",attrs:{type:"button","aria-label":"First",disabled:1===t.currentPage},on:{click:function(e){return t.handlerClickChangePage("first",null)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),a("li",{staticClass:"pagination__item"},[a("button",{staticClass:"pagination__link",attrs:{type:"button","aria-label":"Previous",disabled:1===t.currentPage},on:{click:function(e){return t.handlerClickChangePage("prev",null)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("‹")])])]),t.showLeftEllipsis?a("li",{staticClass:"pagination__item pagination__item--disabled"},[a("span",{staticClass:"pagination__link"},[t._v("...")])]):t._e(),t._l(t.pages.slice(t.pageCountStart,t.pageCountEnd),(function(e){return a("li",{key:e,class:{pagination__item:!0,"pagination__item--active":t.currentPage===e}},[a("button",{staticClass:"pagination__link",attrs:{type:"button"},on:{click:function(a){return t.handlerClickChangePage("",e)}}},[t._v(" "+t._s(e))])])})),t.showRightEllipsis?a("li",{staticClass:"pagination__item pagination__item--disabled"},[a("span",{staticClass:"pagination__link"},[t._v("...")])]):t._e(),a("li",{staticClass:"pagination__item"},[a("button",{staticClass:"pagination__link",attrs:{type:"button","aria-label":"Next",disabled:t.currentPage===t.pages.length},on:{click:function(e){return t.handlerClickChangePage("next",null)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("›")])])]),a("li",{staticClass:"pagination__item"},[a("button",{staticClass:"pagination__link",attrs:{type:"button","aria-label":"Last",disabled:t.currentPage===t.pages.length},on:{click:function(e){return t.handlerClickChangePage("last",null)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)},w=[],T=(a("3927"),r["a"].extend({name:"Pagination",props:{pages:Array},data:function(){return{maxPaginationItems:4}},computed:{currentPage:function(){return this.$store.getters.currentPage},pageCountStart:function(){return this.currentPage<this.maxPaginationItems?0:this.currentPage>=this.pages.length-2?this.pages.length-this.maxPaginationItems:this.currentPage-2},pageCountEnd:function(){return this.currentPage<this.maxPaginationItems?4:this.currentPage>=this.pages.length-2?this.pages.length:this.currentPage+1},showLeftEllipsis:function(){return this.currentPage>this.maxPaginationItems},showRightEllipsis:function(){return this.pages.length>this.maxPaginationItems&&this.currentPage<this.pages.length-2}},methods:{handlerClickChangePage:function(t,e){this.$emit("onClickChangePage",{type:t,page:e})}}})),S=T,N=(a("7a39"),Object(f["a"])(S,k,w,!1,null,null,null)),$=N.exports,E=r["a"].extend({name:"Table",data:function(){return{fields:[{key:"id",label:"ID",sortable:!0},{key:"firstName",label:"First Name",sortable:!0},{key:"lastName",label:"Last Name",sortable:!0},{key:"phone",label:"Phone",sortable:!1},{key:"email",label:"Email",sortable:!1}]}},computed:{data:function(){return this.$store.getters.data},perPage:function(){return this.$store.getters.perPage},currentPage:function(){return this.$store.getters.currentPage},pagesCount:function(){var t=this.data.length,e=t/this.perPage;return e>0&&e<1?1:(t%this.perPage&&(e+=1),e)},pages:function(){for(var t=[],e=1;e<=this.pagesCount;e++)t.push(e);return t}},methods:{onClickChangePage:function(t){var e=t.type,a=t.page;switch(e){case"prev":this.$store.dispatch("changeCurrentPage",this.currentPage-1);break;case"next":this.$store.dispatch("changeCurrentPage",this.currentPage+1);break;case"first":this.$store.dispatch("changeCurrentPage",1);break;case"last":this.$store.dispatch("changeCurrentPage",Math.trunc(this.pagesCount));break;default:this.$store.dispatch("changeCurrentPage",a);break}},onClickChooseUser:function(t){this.$store.dispatch("getChosenUser",t),setTimeout((function(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}),100)}},components:{FieldTitle:P,Pagination:$}}),D=E,O=(a("8d1c"),Object(f["a"])(D,g,m,!1,null,null,null)),j=O.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loader"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"100px",height:"100px",viewBox:"0 0 100 100"}},[a("g",{attrs:{transform:"rotate(0 50 50)"}},[a("rect",{attrs:{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#456caa"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(30 50 50)"}},[a("rect",{attrs:{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#456caa"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(60 50 50)"}},[a("rect",{attrs:{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#456caa"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(90 50 50)"}},[a("rect",{attrs:{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#456caa"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(120 50 50)"}},[a("rect",{attrs:{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#456caa"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(150 50 50)"}},[a("rect",{attrs:{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#456caa"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(180 50 50)"}},[a("rect",{attrs:{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#456caa"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(210 50 50)"}},[a("rect",{attrs:{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#456caa"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(240 50 50)"}},[a("rect",{attrs:{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#456caa"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(270 50 50)"}},[a("rect",{attrs:{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#456caa"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(300 50 50)"}},[a("rect",{attrs:{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#456caa"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"}})])]),a("g",{attrs:{transform:"rotate(330 50 50)"}},[a("rect",{attrs:{x:"47",y:"24",rx:"3",ry:"6",width:"6",height:"12",fill:"#456caa"}},[a("animate",{attrs:{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"}})])])]),a("p",{staticClass:"visually-hidden"},[t._v("Loading...")])])},I=[],U=r["a"].extend({name:"Loader"}),F=U,B=(a("220c"),Object(f["a"])(F,L,I,!1,null,"6a5ce8ce",null)),M=B.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card__body"},[t.user.firstName||t.user.lastName?a("p",{staticClass:"card__text"},[t._v("Selected user: "),a("b",[t._v(t._s(t.user.firstName)+" "+t._s(t.user.lastName))])]):t._e(),t.user.description?a("p",{staticClass:"card__text"},[t._v(" Description: "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.description,expression:"user.description"}],ref:"textarea",staticClass:"card__textarea",attrs:{disabled:""},domProps:{value:t.user.description},on:{input:function(e){e.target.composing||t.$set(t.user,"description",e.target.value)}}})]):t._e(),t.user.adress&&t.user.adress.streetAddress?a("p",{staticClass:"card__text"},[t._v("Residence address: "),a("b",[t._v(t._s(t.user.adress.streetAddress))])]):t._e(),t.user.adress&&t.user.adress.city?a("p",{staticClass:"card__text"},[t._v("City: "),a("b",[t._v(t._s(t.user.adress.city))])]):t._e(),t.user.adress&&t.user.adress.state?a("p",{staticClass:"card__text"},[t._v("Province / State: "),a("b",[t._v(t._s(t.user.adress.state))])]):t._e(),t.user.adress&&t.user.adress.zip?a("p",{staticClass:"card__text"},[t._v("Zip: "),a("b",[t._v(t._s(t.user.adress.zip))])]):t._e()])])},R=[],H=(a("a79f"),r["a"].extend({name:"User-info",mounted:function(){this.setTextareaHeight()},computed:{user:function(){return this.$store.getters.chosenUser}},watch:{"user.description":function(t,e){t!==e&&this.setTextareaHeight()}},methods:{setTextareaHeight:function(){var t=this.$refs.textarea;t.style.height="".concat(t.scrollHeight+2,"px")}}})),Y=H,q=Object(f["a"])(Y,A,R,!1,null,null,null),z=q.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"error"},[a("div",{staticClass:"error__container"},[a("p",{staticClass:"error__text"},[t._v(t._s(t.error))])])])},Z=[],G=(a("5096"),r["a"].extend({name:"Error",props:{error:String}})),K=G,Q=Object(f["a"])(K,J,Z,!1,null,null,null),V=Q.exports,W=r["a"].extend({name:"Main",mounted:function(){this.$store.dispatch("getData")},computed:{data:function(){return this.$store.getters.data},chosenUser:function(){return this.$store.getters.chosenUser},error:function(){return this.$store.getters.error}},components:{Loader:M,FormFilter:h,Table:j,UserInfo:z,Error:V}}),X=W,tt=Object(f["a"])(X,s,o,!1,null,"a5946d4a",null),et=tt.exports,at=r["a"].extend({name:"App",components:{Main:et}}),rt=at,nt=Object(f["a"])(rt,n,i,!1,null,null,null),it=nt.exports,st=a("2f62"),ot=(a("4de4"),a("caad"),a("2532"),a("c740"),a("fb6a"),a("bc3a")),ct=a.n(ot),ut="http://www.filltext.com/?rows=100&id={number|1000}&firstName={firstName}&lastName={lastName}&email={email}&phone={phone|(xxx)xxx-xx-xx}&adress={addressObject}&description={lorem|32}",lt={state:{data:null,filteredData:null,sortedData:null,chosenUser:null,activeSortBy:null,error:null},mutations:{setData:function(t,e){t.data=e},setFilteredData:function(t,e){t.filteredData=e},setChosenUser:function(t,e){t.chosenUser=e},setSortedData:function(t,e){t.sortedData=e},setActiveSortBy:function(t,e){t.activeSortBy=e},setError:function(t,e){t.error=e}},actions:{getData:function(t){var e=t.commit;ct()(ut).then((function(t){e("setData",t.data),e("setSortedData",t.data),e("setError",null)})).catch((function(t){console.error(t),e("setError","Не удалось загрузить данные. Попробуйте перезагрузить страницу.")}))},filterData:function(t,e){var a=t.state,r=t.commit,n=a.data.filter((function(t){var a=t.firstName,r=t.lastName,n=t.email,i=t.phone;return a=a.toLowerCase(),r=r.toLowerCase(),n=n.toLowerCase(),i=i.toLowerCase(),a.includes(e.toLowerCase())||r.includes(e.toLowerCase())||n.includes(e.toLowerCase())||i.includes(e.toLowerCase())}));r("setFilteredData",n)},clearFilterInput:function(t){var e=t.commit;e("setFilteredData",null)},getChosenUser:function(t,e){var a=t.state,r=t.commit,n=a.data.findIndex((function(t){var a=t.id;return a===e}));if(n>=0){var i=a.data[n];r("setChosenUser",i)}},sortingData:function(t,e){var a=t.state,r=t.commit,n=e.sortBy,i=e.sortType;r("setActiveSortBy",n);var s=a.data.slice().sort((function(t,e){var a="string"===typeof t?t.toLowerCase():t,r="string"===typeof t?e.toLowerCase():e;switch(i){case b.INC:return a[n]>r[n]?1:-1;case b.DEC:return a[n]>r[n]?-1:1;default:return 0}}));r("setSortedData",s)}},getters:{data:function(t){return t.filteredData?t.filteredData:t.sortedData},chosenUser:function(t){return t.chosenUser},activeSortBy:function(t){return t.activeSortBy},error:function(t){return t.error}}},dt={state:{perPage:25,currentPage:1},mutations:{setCurrentPage:function(t,e){t.currentPage=e}},actions:{changeCurrentPage:function(t,e){var a=t.commit;a("setCurrentPage",e)}},getters:{perPage:function(t){return t.perPage},currentPage:function(t){return t.currentPage}}};r["a"].use(st["a"]);var ft=new st["a"].Store({modules:{data:lt,pagination:dt}});r["a"].config.productionTip=!1,new r["a"]({store:ft,render:function(t){return t(it)}}).$mount("#app")}});
//# sourceMappingURL=app.js.map